<#include "../adminidentities_tabs.html" />
<@tabs tab="clientapplication" />

<@rowBoxHeader i18nTitleKey="identitystore.modify_clientapplication.title">
    <form class="form-horizontal" method="post" name="modify_clientapplication" action="jsp/admin/plugins/identitystore/ManageClientApplications.jsp">
        <@messages errors=errors />
        <input type="hidden" id="id" name="id" value="${clientapplication.id}"/>
        <@fieldInputText i18nLabelKey="identitystore.modify_clientapplication.labelName" inputName="name" mandatory=true value="${clientapplication.name}" i18nHelpBlockKey="identitystore.modify_clientapplication.labelName.help" />
        <@fieldInputText i18nLabelKey="identitystore.modify_clientapplication.labelCode" inputName="code" mandatory=true value="${clientapplication.code}" i18nHelpBlockKey="identitystore.modify_clientapplication.labelCode.help" />
        <@fieldInputText i18nLabelKey="identitystore.modify_clientapplication.labelHash" inputName="hash" mandatory=false value="${clientapplication.hash!}" i18nHelpBlockKey="identitystore.modify_clientapplication.labelHash.help" />
        <@fieldInputText i18nLabelKey="identitystore.modify_clientapplication.labelControlKey" inputName="controlKey" mandatory=false value="${clientapplication.controlKey!}" i18nHelpBlockKey="identitystore.modify_clientapplication.labelControlKey.help" />

		<@table>
			<tr>
				<th>#i18n{identitystore.modify_clientapplication.labelAttributeName}</th>
				<th>#i18n{identitystore.modify_clientapplication.labelReadable}</th>
				<th>#i18n{identitystore.modify_clientapplication.labelWritable}</th>
				<th>#i18n{identitystore.modify_clientapplication.labelCertificable}</th>
			</tr>
	
			<#if clientapplication_rights_list?? && clientapplication_rights_list?has_content>
				 <#list clientapplication_rights_list as right>
					<tr>
						<td>
							${right.attributeKey.name!} 
						</td>
						<td>
							<input type="checkbox" name="readable" value="${right.attributeKey.id}" <#if right.readable> checked</#if> /> 
						</td>
						<td>
							<input type="checkbox" name="writable" value="${right.attributeKey.id}" <#if right.writable> checked</#if> />
						</td>
						<td>
							<input type="checkbox" name="certifiable" value="${right.attributeKey.id}" <#if right.certifiable> checked</#if> />
						</td>
				</#list>
			</#if>
		</@table>
        <@actionButtons button1Name="action_modifyClientApplication" button2Name="view_manageClientApplications"/>
    </form>
</@rowBoxHeader>

